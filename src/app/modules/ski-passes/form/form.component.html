<div class="title">
    <p class="title__textTitle">{{FORM_TITLE_SKIPASS}}</p>
    <mat-icon mat-dialog-close class="title__iconClose">close</mat-icon>
</div>
<form [formGroup]="skiPassForm" class="form">
    <!-- Фото карты -->
    <div class="form__conteiner" [style]="{    background : 'no-repeat #F3F3F3  center url('+srcPhoto+')' } "
        (click)="loadPhoto()"></div>
    <!-- <input id="file" formControlName="photo" type="file" hidden="true"> -->
    <!-- Номер карты -->
    <mat-form-field class="form__field" appearance="fill">
        <input formControlName="cardNumber" type="number" [placeholder]="FORM_CARD_NUMBER" matInput />
        <mat-error *ngIf="cardNumber?.errors?.['errorCard']">Неверный номер карты.</mat-error>
    </mat-form-field>
    <!-- Дата начала -->
    <mat-form-field class="form__field " appearance="fill">
        <input matInput formControlName="dateStart" [matDatepicker]="dateStartRef" [placeholder]="FORM_DATE_START"
            (dateChange)="changeDate()">
        <mat-datepicker-toggle matSuffix [for]="dateStartRef"></mat-datepicker-toggle>
        <mat-datepicker #dateStartRef></mat-datepicker>

    </mat-form-field>
    <!-- Дата завершения -->
    <mat-form-field class="form__field" appearance="fill">
        <input matInput formControlName="dateEnd" [matDatepicker]="dateEndRef" [placeholder]="FORM_DATE_END"
            [matDatepickerFilter]="compareCompleteDate" (dateChange)="changeDate()">
        <mat-datepicker-toggle matSuffix [for]="dateEndRef"></mat-datepicker-toggle>
        <mat-datepicker #dateEndRef></mat-datepicker>
        <mat-error *ngIf="dateEnd?.errors?.['errorDate']">{{ERROR_DATE_END_LT_DATE_START}}</mat-error>
    </mat-form-field>
    <!-- Стоимость -->
    <mat-form-field class="form__field" appearance="fill">
        <input matInput formControlName="cost" type="number" [placeholder]="FORM_COST" />
    </mat-form-field>
    <!-- посетитель -->
    <mat-form-field class="form__field" appearance="fill">
        <input type="text" matInput formControlName="visiter" [placeholder]="VISITER" [matAutocomplete]="auto">
        <mat-autocomplete #auto="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptions | async" [value]="option.fio">
                
                <!-- <img class="example-option-img" aria-hidden [src]="option.photo" height="25">
                <span>{{option.fio}}</span> |
                <small>birthday: {{option.birthday}}</small> -->
                <app-person-card
                    [person]="option"
                    [showMenu]="false">
                </app-person-card>
            </mat-option>
        </mat-autocomplete>
    </mat-form-field>
</form>
<!-- Кнопка подтверждения -->
<div class="form__button">
    <!-- [disabled]="skiPassForm.invalid" -->
    <app-button *ngIf="isCreate" [mat-dialog-close]="skiPassForm.value" [text]="ADD" [disabled]="skiPassForm.invalid">
    </app-button>
    <app-button *ngIf="!isCreate" [mat-dialog-close]="updateData" [text]="SAVE" (click)="saveRow()"
        [disabled]="skiPassForm.invalid"></app-button>
</div>